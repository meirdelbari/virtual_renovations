General Instructions (Vercel Deployment Edition)
----------------------------------------------

1. Architecture & Code Organization
   - **Frontend**: Plain HTML/JS in `features/` folder.
   - **Backend**: Serverless Functions in `api/` folder (Express.js adapted for Vercel).
   - **Configuration**: `vercel.json` handles routing; `.env` handles local secrets.
   - Each feature (button or UI module) must be implemented as an independent, self-contained component.

2. Deployment (Vercel)
   - The project is designed to be deployed on Vercel.
   - **Prerequisites**: GitHub repository + Vercel account.
   - **Environment Variables**: `OPENAI_API_KEY` and `GOOGLE_GEMINI_API_KEY` must be set in Vercel Project Settings.
   - **Deploy**: Push to GitHub main branch to trigger Vercel deployment.

3. Local Development
   - Run `npm install` to get dependencies.
   - Run `npm start` to launch the local server at `http://localhost:4000`.
   - Ensure `.env` file is present in the root directory with valid API keys.

4. User Workflow Modes
   - **Option A (Floor Plan First):** Users upload a JSON/PDF floor plan, then upload photos and link them to specific rooms. Best for full projects.
   - **Option B (Photos Only):** Users skip floor plans, upload photos directly, and tag them with room types (e.g., "Living Room"). Best for quick visualizations.

5. AI Features
   - **Renovate:** Changes materials (floors, walls, kitchen cabinets) based on a selected Style.
   - **Furniture:**
     - *Remove:* Clears the room to an empty shell.
     - *Stage:* Adds furniture to an empty room based on the Style and Room Type.
   - **AlgoreitAI:** The "âœ¨ AlgoreitAI" button triggers the generation process using the selected options.

6. Testing & Verification
   - Always verify that new features work in both Option A and Option B modes.
   - Ensure UI elements (dropdowns, modals) are positioned correctly and have high z-index to appear above overlays.
